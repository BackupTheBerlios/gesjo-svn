2006-01-19 17:35:37 STATUS : Recuperant les propietats del servidor...
2006-01-19 17:35:37 STATUS : Recuperant les propietats del servidor... (0,02 segons)
2006-01-19 17:35:42 STATUS : Connectant a la base de dades...
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT oid, pg_encoding_to_char(encoding) AS encoding, datlastsysoid
  FROM pg_database WHERE datname='template1'
2006-01-19 17:35:42 STATUS : Connectant a la base de dades... (0,37 segons)
2006-01-19 17:35:42 QUERY  : Scalar query (localhost:5433): SELECT version();
2006-01-19 17:35:42 QUERY  : Query result: PostgreSQL 8.0.6 on i486-pc-linux-gnu, compiled by GCC cc (GCC) 4.0.3 20060104 (prerelease) (Debian 4.0.2-6)
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT proname, pronargs, proargtypes[0] AS arg0, proargtypes[1] AS arg1, proargtypes[2] AS arg2
  FROM pg_proc
 WHERE proname IN ('pg_tablespace_size', 'pg_file_read', 'pg_rotate_log', 'pg_postmaster_starttime', 'pg_terminate_backend', 'pg_reload_conf')
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT usecreatedb, usesuper
  FROM pg_user WHERE usename=current_user
2006-01-19 17:35:42 STATUS : Restaurant l'entorn anterior...
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT db.oid, datname, spcname, datallowconn, datconfig, datacl, pg_encoding_to_char(encoding) AS serverencoding, pg_get_userbyid(datdba) AS datowner,has_database_privilege(db.oid, 'CREATE') as cancreate
  FROM pg_database db
  LEFT OUTER JOIN pg_tablespace ta ON db.dattablespace=ta.OID
 ORDER BY datname
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT ts.oid, spcname, spclocation, pg_get_userbyid(spcowner) as spcuser, spcacl FROM pg_tablespace ts
 ORDER BY spcname
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT * from pg_group ORDER BY groname
2006-01-19 17:35:42 QUERY  : Scalar query (localhost:5433): SELECT has_table_privilege('pg_shadow', 'SELECT')
2006-01-19 17:35:42 QUERY  : Query result: t
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT * FROM pg_shadow ORDER BY usename
2006-01-19 17:35:42 QUERY  : Set query (localhost:5433): SELECT oid, pg_encoding_to_char(encoding) AS encoding, datlastsysoid
  FROM pg_database WHERE oid = 33615
2006-01-19 17:35:42 QUERY  : Scalar query (localhost:5433): SELECT description FROM pg_description WHERE objoid=33615::oid
2006-01-19 17:35:43 QUERY  : Scalar query (localhost:5433): SELECT proname FROM pg_proc WHERE proname='pg_get_viewdef' AND proargtypes[1]=16
2006-01-19 17:35:43 QUERY  : Query result: pg_get_viewdef
2006-01-19 17:35:43 QUERY  : Scalar query (localhost:5433): SHOW search_path
2006-01-19 17:35:43 QUERY  : Query result: $user,public
2006-01-19 17:35:43 QUERY  : Set query (localhost:5433): SELECT nspname, session_user=nspname AS isuser FROM pg_namespace
2006-01-19 17:35:43 QUERY  : Set query (localhost:5433): SELECT ca.oid, ca.*, st.typname AS srctyp, tt.typname AS trgtyp, ns.nspname AS srcnspname, nt.nspname AS trgnspname,
 proname, np.nspname AS pronspname, description
  FROM pg_cast ca
  JOIN pg_type st ON st.oid=castsource
  JOIN pg_namespace ns ON ns.oid=st.typnamespace
  JOIN pg_type tt ON tt.oid=casttarget
  JOIN pg_namespace nt ON nt.oid=tt.typnamespace
  LEFT JOIN pg_proc pr ON pr.oid=castfunc
  LEFT JOIN pg_namespace np ON np.oid=pr.pronamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=ca.oid AND des.objsubid=0
 WHERE ca.oid > 17228
 ORDER BY st.typname, tt.typname
2006-01-19 17:35:43 QUERY  : Set query (localhost:5433): SELECT lan.oid, lan.lanname, lanpltrusted, lanacl, hp.proname as lanproc, vp.proname as lanval, description
  FROM pg_language lan
  JOIN pg_proc hp on hp.oid=lanplcallfoid
  LEFT OUTER JOIN pg_proc vp on vp.oid=lanvalidator
  LEFT OUTER JOIN pg_description des ON des.objoid=lan.oid AND des.objsubid=0
 WHERE lanispl IS TRUE
 ORDER BY lanname
2006-01-19 17:35:43 QUERY  : Set query (localhost:5433): SELECT nspname FROM pg_namespace nsp
  JOIN pg_proc pr ON pronamespace=nsp.oid
 WHERE proname IN ('slonyversion')
2006-01-19 17:35:43 QUERY  : Set query (localhost:5433): SELECT CASE WHEN nspname LIKE 'pg\_temp\_%%' THEN 1
            WHEN nsp.oid<17228 OR nspname like 'pg\_%' THEN 0
            ELSE 2 END AS nsptyp,
       nsp.nspname, nsp.oid, pg_get_userbyid(nspowner) AS namespaceowner, nspacl, description,       has_schema_privilege(nsp.oid, 'CREATE') as cancreate
  FROM pg_namespace nsp
  LEFT OUTER JOIN pg_description des ON des.objoid=nsp.oid
WHERE (nsp.nspname NOT LIKE 'pg\_%' AND nsp.nspname NOT in ('information_schema')) ORDER BY 1, nspname
2006-01-19 17:35:43 QUERY  : Scalar query (localhost:5433): SELECT cl.oid FROM pg_class cl JOIN pg_namespace ns ON ns.oid=relnamespace
 WHERE relname='pga_job' AND nspname='pg_admin'
2006-01-19 17:35:43 QUERY  : Scalar query (localhost:5433): SELECT COUNT(*) FROM
   (SELECT tgargs from pg_trigger tr
      LEFT JOIN pg_depend dep ON dep.objid=tr.oid AND deptype = 'i'
      LEFT JOIN pg_constraint co ON refobjid = co.oid AND contype = 'f'
     WHERE co.oid IS NULL
     GROUP BY tgargs
    HAVING count(1) = 3) AS foo
2006-01-19 17:35:44 QUERY  : Query result: 0
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT aggfnoid::oid, proname AS aggname, pg_get_userbyid(proowner) AS aggowner, aggtransfn,
aggfinalfn, proargtypes[0] AS aggbasetype, CASE WHEN (ti.typlen = -1 AND ti.typelem != 0) THEN (SELECT at.typname FROM pg_type at WHERE at.oid = ti.typelem) || '[]' ELSE ti.typname END as inputname, aggtranstype, CASE WHEN (tt.typlen = -1 AND tt.typelem != 0) THEN (SELECT at.typname FROM pg_type at WHERE at.oid = tt.typelem) || '[]' ELSE tt.typname END as transname, prorettype AS aggfinaltype, CASE WHEN (tf.typlen = -1 AND tf.typelem != 0) THEN (SELECT at.typname FROM pg_type at WHERE at.oid = tf.typelem) || '[]' ELSE tf.typname END as finalname, agginitval, description
  FROM pg_aggregate ag
  JOIN pg_proc pr ON pr.oid = ag.aggfnoid
  JOIN pg_type ti on ti.oid=proargtypes[0]
  JOIN pg_type tt on tt.oid=aggtranstype
  JOIN pg_type tf on tf.oid=prorettype
  LEFT OUTER JOIN pg_description des ON des.objoid=aggfnoid::oid
 WHERE pronamespace = 2200::oid
 ORDER BY aggname
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT co.oid, co.*, pg_encoding_to_char(conforencoding) as forencoding, pg_get_userbyid(conowner) as owner,pg_encoding_to_char(contoencoding) as toencoding, proname, nspname, description
  FROM pg_conversion co
  JOIN pg_proc pr ON pr.oid=conproc
  JOIN pg_namespace na ON na.oid=pr.pronamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=co.oid AND des.objsubid=0
 WHERE connamespace = 2200::oid
 ORDER BY conname
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT d.oid, d.typname as domname, d.typbasetype, b.typname as basetype, pg_get_userbyid(d.typowner) as domainowner, 
       d.typlen, d.typtypmod, d.typnotnull, d.typdefault, d.typndims, d.typdelim, bn.nspname as basensp,
       description, (SELECT COUNT(1) FROM pg_type t2 WHERE t2.typname=d.typname) > 1 AS domisdup,
       (SELECT COUNT(1) FROM pg_type t3 WHERE t3.typname=b.typname) > 1 AS baseisdup
  FROM pg_type d
  JOIN pg_type b ON b.oid = CASE WHEN d.typndims>0 then d.typelem ELSE d.typbasetype END
  JOIN pg_namespace bn ON bn.oid=b.typnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=d.oid
 WHERE d.typtype = 'd' AND d.typnamespace = 2200::oid
 ORDER BY d.typname
2006-01-19 17:35:44 QUERY  : Scalar query (localhost:5433): SELECT version();
2006-01-19 17:35:44 QUERY  : Query result: PostgreSQL 8.0.6 on i486-pc-linux-gnu, compiled by GCC cc (GCC) 4.0.3 20060104 (prerelease) (Debian 4.0.2-6)
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT pr.oid, pr.*, TYP.typname, TYPNS.nspname AS typnsp, lanname, proargnames, pg_get_userbyid(proowner) as funcowner, description
  FROM pg_proc pr
  JOIN pg_type TYP ON TYP.oid=prorettype
  JOIN pg_namespace TYPNS ON TYPNS.oid=TYP.typnamespace
  JOIN pg_language LNG ON LNG.oid=prolang
  LEFT OUTER JOIN pg_description des ON des.objoid=pr.oid
 WHERE proisagg = FALSE AND pronamespace = 2200::oid
   AND typname <> 'trigger'
 ORDER BY proname
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT t.oid, t.typname, n.nspname FROM pg_type t, pg_namespace n WHERE t.typnamespace = n.oid
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT pr.oid, pr.*, TYP.typname, TYPNS.nspname AS typnsp, lanname, proargnames, pg_get_userbyid(proowner) as funcowner, description
  FROM pg_proc pr
  JOIN pg_type TYP ON TYP.oid=prorettype
  JOIN pg_namespace TYPNS ON TYPNS.oid=TYP.typnamespace
  JOIN pg_language LNG ON LNG.oid=prolang
  LEFT OUTER JOIN pg_description des ON des.objoid=pr.oid
 WHERE proisagg = FALSE AND pronamespace = 2200::oid
   AND typname = 'trigger'
 ORDER BY proname
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT t.oid, t.typname, n.nspname FROM pg_type t, pg_namespace n WHERE t.typnamespace = n.oid
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT op.oid, op.oprname, pg_get_userbyid(op.oprowner) as opowner, op.oprkind, op.oprcanhash,
       op.oprleft, op.oprright, lt.typname as lefttype, rt.typname as righttype, et.typname as resulttype,
       co.oprname as compop, ne.oprname as negop, lso.oprname as leftsortop, rso.oprname as rightsortop,
       lco.oprname as lscmpop, gco.oprname as gtcmpop,
       op.oprcode as operproc, op.oprjoin as joinproc, op.oprrest as restrproc, description
  FROM pg_operator op
  LEFT OUTER JOIN pg_type lt ON lt.oid=op.oprleft
  LEFT OUTER JOIN pg_type rt ON rt.oid=op.oprright
  JOIN pg_type et on et.oid=op.oprresult
  LEFT OUTER JOIN pg_operator co ON co.oid=op.oprcom
  LEFT OUTER JOIN pg_operator ne ON ne.oid=op.oprnegate
  LEFT OUTER JOIN pg_operator lso ON lso.oid=op.oprlsortop
  LEFT OUTER JOIN pg_operator rso ON rso.oid=op.oprrsortop
  LEFT OUTER JOIN pg_operator lco ON lco.oid=op.oprltcmpop
  LEFT OUTER JOIN pg_operator gco ON gco.oid=op.oprgtcmpop
  LEFT OUTER JOIN pg_description
2006-01-19 17:35:44 QUERY  : Set query (localhost:5433): SELECT op.oid, op.*, pg_get_userbyid(op.opcowner) as opowner, it.typname as intypename, dt.typname as keytypename, amname
  FROM pg_opclass op
  JOIN pg_am am ON am.oid=opcamid
  JOIN pg_type it ON it.oid=opcintype
  LEFT OUTER JOIN pg_type dt ON dt.oid=opckeytype
 WHERE opcnamespace = 2200::oid
 ORDER BY opcname
2006-01-19 17:35:45 QUERY  : Set query (localhost:5433): SELECT cl.oid, relname, pg_get_userbyid(relowner) AS seqowner, relacl, description
  FROM pg_class cl
  LEFT OUTER JOIN pg_description des ON des.objoid=cl.oid
 WHERE relkind = 'S' AND relnamespace  = 2200::oid
 ORDER BY relname
2006-01-19 17:35:45 QUERY  : Set query (localhost:5433): SELECT rel.oid, relname, spcname, pg_get_userbyid(relowner) AS relowner, relacl, relhasoids, relhassubclass, reltuples, description, conname, conkey
  FROM pg_class rel
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=rel.reltablespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rel.oid AND des.objsubid=0
  LEFT OUTER JOIN pg_constraint c ON c.conrelid=rel.oid AND c.contype='p'
 WHERE relkind IN ('r','s','t') AND relnamespace = 2200::oid
 ORDER BY relname
2006-01-19 17:35:45 QUERY  : Set query (localhost:5433): SELECT t.oid, t.*, pg_get_userbyid(t.typowner) as typeowner, e.typname as element, description, ct.oid AS taboid
  FROM pg_type t
  LEFT OUTER JOIN pg_type e ON e.oid=t.typelem
  LEFT OUTER JOIN pg_class ct ON ct.oid=t.typrelid AND ct.relkind <> 'c'
  LEFT OUTER JOIN pg_description des ON des.objoid=t.oid
 WHERE t.typtype != 'd' AND t.typname NOT LIKE '\\_%%' AND t.typnamespace = 2200::oid
   AND ct.oid IS NULL
 ORDER BY t.typname
2006-01-19 17:35:45 QUERY  : Set query (localhost:5433): SELECT c.oid, c.relname, pg_get_userbyid(c.relowner) AS viewowner, c.relacl, description, pg_get_viewdef(c.oid, true) AS definition
  FROM pg_class c
  LEFT OUTER JOIN pg_description des ON (des.objoid=c.oid and des.objsubid=0)
 WHERE ((c.relhasrules AND (EXISTS (
           SELECT r.rulename FROM pg_rewrite r
            WHERE ((r.ev_class = c.oid)
              AND (bpchar(r.ev_type) = '1'::bpchar)) ))) OR (c.relkind = 'v'::char))
   AND relnamespace = 2200::oid
 ORDER BY relname
2006-01-19 17:35:45 STATUS : Restaurant l'entorn anterior... (2,81 segons)
2006-01-19 17:37:22 STATUS : Recuperant detalls de Taula...
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT att.*, def.*, CASE WHEN attndims > 0 THEN 1 ELSE 0 END AS isarray, CASE WHEN ty.typname = 'bpchar' THEN 'char' WHEN ty.typname = '_bpchar' THEN '_char' ELSE ty.typname END AS typname, tn.nspname as typnspname, et.typname as elemtypname,
  cl.relname, na.nspname, att.attstattarget, description, cs.relname AS sername, ns.nspname AS serschema,
  (SELECT count(1) FROM pg_type t2 WHERE t2.typname=ty.typname) > 1 AS isdup
  FROM pg_attribute att
  JOIN pg_type ty ON ty.oid=atttypid
  JOIN pg_namespace tn ON tn.oid=ty.typnamespace
  JOIN pg_class cl ON cl.oid=attrelid
  JOIN pg_namespace na ON na.oid=cl.relnamespace
  LEFT OUTER JOIN pg_type et ON et.oid=ty.typelem
  LEFT OUTER JOIN pg_attrdef def ON adrelid=attrelid AND adnum=attnum
  LEFT OUTER JOIN pg_description des ON des.objoid=attrelid AND des.objsubid=attnum
  LEFT OUTER JOIN (pg_depend JOIN pg_class cs ON objid=cs.oid AND cs.relkind='S') ON refobjid=attrelid AND refobjsubid=attnum
  LEFT OUTER JOIN pg_namespace ns ON ns.o
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT ct.oid, conname, condeferrable, condeferred, confupdtype, confdeltype, confmatchtype, conkey, confkey, confrelid, nl.nspname as fknsp, cl.relname as fktab, nr.nspname as refnsp, cr.relname as reftab, description
  FROM pg_constraint ct
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=cl.relnamespace
  JOIN pg_class cr ON cr.oid=confrelid
  JOIN pg_namespace nr ON nr.oid=cr.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=ct.oid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT c.oid, conname, condeferrable, condeferred, relname, nspname, description,
       pg_get_expr(conbin, conrelid, true) as consrc
  FROM pg_constraint c
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=c.oid
 WHERE contype = 'c' AND conrelid =  33729::oid
 ORDER BY conname
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT rw.oid, rw.ev_class, rulename, relname, nspname, description, is_instead, ev_type, ev_action, ev_qual,
       pg_get_ruledef(rw.oid, true) AS definition
  FROM pg_rewrite rw
  JOIN pg_class cl ON cl.oid=rw.ev_class
  JOIN pg_namespace nsp ON nsp.oid=cl.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rw.oid
 WHERE ev_class = 33729
 ORDER BY rulename
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT t.oid, t.*, relname, nspname, des.description
  FROM pg_trigger t
  JOIN pg_class cl ON cl.oid=tgrelid
  JOIN pg_namespace na ON na.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=t.oid
 WHERE NOT tgisconstraint 
 AND tgrelid = 33729::oid
 ORDER BY tgname
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT attname
  FROM pg_attribute
 WHERE attrelid=33729::oid AND attnum IN (1)
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT attname
  FROM pg_attribute
 WHERE attrelid=33729::oid AND attnum IN (2)
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT count(*) AS rows FROM linia_factura
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT c.relname , nspname
  FROM pg_inherits i
  JOIN pg_class c ON c.oid = i.inhparent
  JOIN pg_namespace n ON n.oid=c.relnamespace
 WHERE i.inhrelid = 33729::oid
 ORDER BY inhseqno
2006-01-19 17:37:22 STATUS : Recuperant detalls de Taula... (0,33 segons)
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:37:22 QUERY  : Scalar query (localhost:5433): SELECT pg_get_indexdef(33735::oid, 1, true)
2006-01-19 17:37:22 QUERY  : Query result: factura_id
2006-01-19 17:37:22 QUERY  : Scalar query (localhost:5433): SELECT pg_get_indexdef(33735::oid, 2, true)
2006-01-19 17:37:22 QUERY  : Query result: linia
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT opcname FROM pg_opclass WHERE oid=1980
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT opcname FROM pg_opclass WHERE oid=1980
2006-01-19 17:37:22 QUERY  : Set query (localhost:5433): SELECT a1.attname as conattname, a2.attname as confattname
  FROM pg_attribute a1, pg_attribute a2
 WHERE a1.attrelid=33729::oid AND a1.attnum=1
   AND a2.attrelid=33714::oid AND a2.attnum=1
2006-01-19 17:37:37 QUERY  : Set query (localhost:5433): SELECT groname FROM pg_group ORDER BY groname
2006-01-19 17:37:37 QUERY  : Set query (localhost:5433): SELECT usename FROM pg_user ORDER BY usename
2006-01-19 17:37:37 QUERY  : Set query (localhost:5433): SELECT spcname FROM pg_tablespace WHERE spcname <> 'global' ORDER BY spcname
2006-01-19 17:37:38 STATUS : Recuperant detalls de Grups...
2006-01-19 17:37:38 STATUS : Recuperant detalls de Grups... (0,00 segons)
2006-01-19 17:37:44 QUERY  : Scalar query (localhost:5433): SELECT COUNT(1) FROM pg_depend dep
  JOIN pg_class cl ON dep.classid=cl.oid AND relname='pg_rewrite'
 WHERE refobjid=33729::oid AND refobjsubid=2
2006-01-19 17:37:44 QUERY  : Query result: 0
2006-01-19 17:37:44 QUERY  : Set query (localhost:5433): SELECT tt.oid, tt.typname
  FROM pg_cast
  JOIN pg_type tt ON tt.oid=casttarget
 WHERE castsource=20
   AND castfunc=0
2006-01-19 17:38:25 QUERY  : Void query (localhost:5433): ALTER TABLE linia_factura
   ALTER COLUMN linia DROP DEFAULT;
ALTER TABLE linia_factura ALTER COLUMN linia SET STATISTICS -1;

2006-01-19 17:38:25 QUERY  : Set query (localhost:5433): SELECT rel.oid, relname, spcname, pg_get_userbyid(relowner) AS relowner, relacl, relhasoids, relhassubclass, reltuples, description, conname, conkey
  FROM pg_class rel
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=rel.reltablespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rel.oid AND des.objsubid=0
  LEFT OUTER JOIN pg_constraint c ON c.conrelid=rel.oid AND c.contype='p'
 WHERE relkind IN ('r','s','t') AND relnamespace = 2200::oid

   AND rel.oid=33729::oid ORDER BY relname
2006-01-19 17:38:25 QUERY  : Set query (localhost:5433): SELECT att.*, def.*, CASE WHEN attndims > 0 THEN 1 ELSE 0 END AS isarray, CASE WHEN ty.typname = 'bpchar' THEN 'char' WHEN ty.typname = '_bpchar' THEN '_char' ELSE ty.typname END AS typname, tn.nspname as typnspname, et.typname as elemtypname,
  cl.relname, na.nspname, att.attstattarget, description, cs.relname AS sername, ns.nspname AS serschema,
  (SELECT count(1) FROM pg_type t2 WHERE t2.typname=ty.typname) > 1 AS isdup
  FROM pg_attribute att
  JOIN pg_type ty ON ty.oid=atttypid
  JOIN pg_namespace tn ON tn.oid=ty.typnamespace
  JOIN pg_class cl ON cl.oid=attrelid
  JOIN pg_namespace na ON na.oid=cl.relnamespace
  LEFT OUTER JOIN pg_type et ON et.oid=ty.typelem
  LEFT OUTER JOIN pg_attrdef def ON adrelid=attrelid AND adnum=attnum
  LEFT OUTER JOIN pg_description des ON des.objoid=attrelid AND des.objsubid=attnum
  LEFT OUTER JOIN (pg_depend JOIN pg_class cs ON objid=cs.oid AND cs.relkind='S') ON refobjid=attrelid AND refobjsubid=attnum
  LEFT OUTER JOIN pg_namespace ns ON ns.o
2006-01-19 17:38:25 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:38:25 QUERY  : Set query (localhost:5433): SELECT ct.oid, conname, condeferrable, condeferred, confupdtype, confdeltype, confmatchtype, conkey, confkey, confrelid, nl.nspname as fknsp, cl.relname as fktab, nr.nspname as refnsp, cr.relname as reftab, description
  FROM pg_constraint ct
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=cl.relnamespace
  JOIN pg_class cr ON cr.oid=confrelid
  JOIN pg_namespace nr ON nr.oid=cr.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=ct.oid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:38:25 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT c.oid, conname, condeferrable, condeferred, relname, nspname, description,
       pg_get_expr(conbin, conrelid, true) as consrc
  FROM pg_constraint c
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=c.oid
 WHERE contype = 'c' AND conrelid =  33729::oid
 ORDER BY conname
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT rw.oid, rw.ev_class, rulename, relname, nspname, description, is_instead, ev_type, ev_action, ev_qual,
       pg_get_ruledef(rw.oid, true) AS definition
  FROM pg_rewrite rw
  JOIN pg_class cl ON cl.oid=rw.ev_class
  JOIN pg_namespace nsp ON nsp.oid=cl.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rw.oid
 WHERE ev_class = 33729
 ORDER BY rulename
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT t.oid, t.*, relname, nspname, des.description
  FROM pg_trigger t
  JOIN pg_class cl ON cl.oid=tgrelid
  JOIN pg_namespace na ON na.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=t.oid
 WHERE NOT tgisconstraint 
 AND tgrelid = 33729::oid
 ORDER BY tgname
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT attname
  FROM pg_attribute
 WHERE attrelid=33729::oid AND attnum IN (1)
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT attname
  FROM pg_attribute
 WHERE attrelid=33729::oid AND attnum IN (2)
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT count(*) AS rows FROM linia_factura
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT c.relname , nspname
  FROM pg_inherits i
  JOIN pg_class c ON c.oid = i.inhparent
  JOIN pg_namespace n ON n.oid=c.relnamespace
 WHERE i.inhrelid = 33729::oid
 ORDER BY inhseqno
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:38:26 QUERY  : Scalar query (localhost:5433): SELECT pg_get_indexdef(33735::oid, 1, true)
2006-01-19 17:38:26 QUERY  : Query result: factura_id
2006-01-19 17:38:26 QUERY  : Scalar query (localhost:5433): SELECT pg_get_indexdef(33735::oid, 2, true)
2006-01-19 17:38:26 QUERY  : Query result: linia
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT opcname FROM pg_opclass WHERE oid=1980
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT opcname FROM pg_opclass WHERE oid=1980
2006-01-19 17:38:26 QUERY  : Set query (localhost:5433): SELECT a1.attname as conattname, a2.attname as confattname
  FROM pg_attribute a1, pg_attribute a2
 WHERE a1.attrelid=33729::oid AND a1.attnum=1
   AND a2.attrelid=33714::oid AND a2.attnum=1
2006-01-19 17:38:35 STATUS : Recuperant detalls de Taula...
2006-01-19 17:38:35 STATUS : Recuperant detalls de Taula... (0,02 segons)
2006-01-19 17:38:36 QUERY  : Set query (localhost:5433): SELECT groname FROM pg_group ORDER BY groname
2006-01-19 17:38:36 QUERY  : Set query (localhost:5433): SELECT usename FROM pg_user ORDER BY usename
2006-01-19 17:38:36 QUERY  : Set query (localhost:5433): SELECT spcname FROM pg_tablespace WHERE spcname <> 'global' ORDER BY spcname
2006-01-19 17:38:41 QUERY  : Scalar query (localhost:5433): SELECT COUNT(1) FROM pg_depend dep
  JOIN pg_class cl ON dep.classid=cl.oid AND relname='pg_rewrite'
 WHERE refobjid=33729::oid AND refobjsubid=2
2006-01-19 17:38:41 QUERY  : Query result: 0
2006-01-19 17:38:41 QUERY  : Set query (localhost:5433): SELECT tt.oid, tt.typname
  FROM pg_cast
  JOIN pg_type tt ON tt.oid=casttarget
 WHERE castsource=20
   AND castfunc=0
2006-01-19 17:38:47 QUERY  : Set query (localhost:5433): SELECT oid, pg_encoding_to_char(encoding) AS encoding, datlastsysoid
  FROM pg_database WHERE oid = 33615
2006-01-19 17:39:11 QUERY  : Thread Query -- Table: linia_factura

alter table linia_factura drop column linia;
2006-01-19 17:39:34 QUERY  : Thread Query -- Table: linia_factura

alter table linia_factura add column linia dm_id;
2006-01-19 17:39:39 QUERY  : Thread Query -- Table: linia_factura

alter table linia_factura add column linia dm_id_ref;
2006-01-19 17:39:47 STATUS : Refrescant Taula...
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT rel.oid, relname, spcname, pg_get_userbyid(relowner) AS relowner, relacl, relhasoids, relhassubclass, reltuples, description, conname, conkey
  FROM pg_class rel
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=rel.reltablespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rel.oid AND des.objsubid=0
  LEFT OUTER JOIN pg_constraint c ON c.conrelid=rel.oid AND c.contype='p'
 WHERE relkind IN ('r','s','t') AND relnamespace = 2200::oid

   AND rel.oid=33729::oid ORDER BY relname
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT att.*, def.*, CASE WHEN attndims > 0 THEN 1 ELSE 0 END AS isarray, CASE WHEN ty.typname = 'bpchar' THEN 'char' WHEN ty.typname = '_bpchar' THEN '_char' ELSE ty.typname END AS typname, tn.nspname as typnspname, et.typname as elemtypname,
  cl.relname, na.nspname, att.attstattarget, description, cs.relname AS sername, ns.nspname AS serschema,
  (SELECT count(1) FROM pg_type t2 WHERE t2.typname=ty.typname) > 1 AS isdup
  FROM pg_attribute att
  JOIN pg_type ty ON ty.oid=atttypid
  JOIN pg_namespace tn ON tn.oid=ty.typnamespace
  JOIN pg_class cl ON cl.oid=attrelid
  JOIN pg_namespace na ON na.oid=cl.relnamespace
  LEFT OUTER JOIN pg_type et ON et.oid=ty.typelem
  LEFT OUTER JOIN pg_attrdef def ON adrelid=attrelid AND adnum=attnum
  LEFT OUTER JOIN pg_description des ON des.objoid=attrelid AND des.objsubid=attnum
  LEFT OUTER JOIN (pg_depend JOIN pg_class cs ON objid=cs.oid AND cs.relkind='S') ON refobjid=attrelid AND refobjsubid=attnum
  LEFT OUTER JOIN pg_namespace ns ON ns.o
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT ct.oid, conname, condeferrable, condeferred, confupdtype, confdeltype, confmatchtype, conkey, confkey, confrelid, nl.nspname as fknsp, cl.relname as fktab, nr.nspname as refnsp, cr.relname as reftab, description
  FROM pg_constraint ct
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=cl.relnamespace
  JOIN pg_class cr ON cr.oid=confrelid
  JOIN pg_namespace nr ON nr.oid=cr.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=ct.oid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT c.oid, conname, condeferrable, condeferred, relname, nspname, description,
       pg_get_expr(conbin, conrelid, true) as consrc
  FROM pg_constraint c
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=c.oid
 WHERE contype = 'c' AND conrelid =  33729::oid
 ORDER BY conname
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT rw.oid, rw.ev_class, rulename, relname, nspname, description, is_instead, ev_type, ev_action, ev_qual,
       pg_get_ruledef(rw.oid, true) AS definition
  FROM pg_rewrite rw
  JOIN pg_class cl ON cl.oid=rw.ev_class
  JOIN pg_namespace nsp ON nsp.oid=cl.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rw.oid
 WHERE ev_class = 33729
 ORDER BY rulename
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT t.oid, t.*, relname, nspname, des.description
  FROM pg_trigger t
  JOIN pg_class cl ON cl.oid=tgrelid
  JOIN pg_namespace na ON na.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=t.oid
 WHERE NOT tgisconstraint 
 AND tgrelid = 33729::oid
 ORDER BY tgname
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT count(*) AS rows FROM linia_factura
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT c.relname , nspname
  FROM pg_inherits i
  JOIN pg_class c ON c.oid = i.inhparent
  JOIN pg_namespace n ON n.oid=c.relnamespace
 WHERE i.inhrelid = 33729::oid
 ORDER BY inhseqno
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:39:47 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:39:48 QUERY  : Set query (localhost:5433): SELECT a1.attname as conattname, a2.attname as confattname
  FROM pg_attribute a1, pg_attribute a2
 WHERE a1.attrelid=33729::oid AND a1.attnum=1
   AND a2.attrelid=33714::oid AND a2.attnum=1
2006-01-19 17:39:48 STATUS : Refrescant Taula... (0,22 segons)
2006-01-19 17:39:55 QUERY  : Set query (localhost:5433): SELECT groname FROM pg_group ORDER BY groname
2006-01-19 17:39:55 QUERY  : Set query (localhost:5433): SELECT usename FROM pg_user ORDER BY usename
2006-01-19 17:39:56 QUERY  : Set query (localhost:5433): SELECT spcname FROM pg_tablespace WHERE spcname <> 'global' ORDER BY spcname
2006-01-19 17:39:59 QUERY  : Set query (localhost:5433): SELECT spcname FROM pg_tablespace WHERE spcname <> 'global' ORDER BY spcname
2006-01-19 17:40:35 QUERY  : Set query (localhost:5433): SELECT typname, CASE WHEN typelem > 0 THEN typelem ELSE t.oid END as elemoid, typlen, typtype, t.oid, nspname,
       (SELECT COUNT(1) FROM pg_type t2 WHERE t2.typname = t.typname) > 1 AS isdup
  FROM pg_type t
  JOIN pg_namespace nsp ON typnamespace=nsp.oid
 WHERE typisdefined AND typtype IN ('b', 'd') AND nsp.nspname NOT LIKE 'information_schema'
 ORDER BY CASE WHEN typtype='d' THEN 0 ELSE 1 END, (t.typelem>0)::bool, t.typname
2006-01-19 17:40:35 QUERY  : Set query (localhost:5433): SELECT nspname, relname
  FROM pg_class cl
  JOIN pg_namespace nsp ON nsp.oid=relnamespace
 WHERE cl.relkind='S'
   AND (nspname NOT LIKE 'pg\_%' AND nspname NOT in ('information_schema'))
 ORDER BY CASE WHEN (nspname NOT LIKE 'pg\_%' AND nspname NOT in ('information_schema')) THEN 0 ELSE 1 END, nspname, relname
2006-01-19 17:41:23 QUERY  : Set query (localhost:5433): SELECT typname, CASE WHEN typelem > 0 THEN typelem ELSE t.oid END as elemoid, typlen, typtype, t.oid, nspname,
       (SELECT COUNT(1) FROM pg_type t2 WHERE t2.typname = t.typname) > 1 AS isdup
  FROM pg_type t
  JOIN pg_namespace nsp ON typnamespace=nsp.oid
 WHERE typisdefined AND typtype IN ('b', 'd') AND nsp.nspname NOT LIKE 'information_schema'
 ORDER BY CASE WHEN typtype='d' THEN 0 ELSE 1 END, (t.typelem>0)::bool, t.typname
2006-01-19 17:41:23 QUERY  : Set query (localhost:5433): SELECT nspname, relname
  FROM pg_class cl
  JOIN pg_namespace nsp ON nsp.oid=relnamespace
 WHERE cl.relkind='S'
   AND (nspname NOT LIKE 'pg\_%' AND nspname NOT in ('information_schema'))
 ORDER BY CASE WHEN (nspname NOT LIKE 'pg\_%' AND nspname NOT in ('information_schema')) THEN 0 ELSE 1 END, nspname, relname
2006-01-19 17:41:58 QUERY  : Set query (localhost:5433): SELECT typname, CASE WHEN typelem > 0 THEN typelem ELSE t.oid END as elemoid, typlen, typtype, t.oid, nspname,
       (SELECT COUNT(1) FROM pg_type t2 WHERE t2.typname = t.typname) > 1 AS isdup
  FROM pg_type t
  JOIN pg_namespace nsp ON typnamespace=nsp.oid
 WHERE typisdefined AND typtype IN ('b', 'd') AND nsp.nspname NOT LIKE 'information_schema'
 ORDER BY CASE WHEN typtype='d' THEN 0 ELSE 1 END, (t.typelem>0)::bool, t.typname
2006-01-19 17:41:59 QUERY  : Set query (localhost:5433): SELECT nspname, relname
  FROM pg_class cl
  JOIN pg_namespace nsp ON nsp.oid=relnamespace
 WHERE cl.relkind='S'
   AND (nspname NOT LIKE 'pg\_%' AND nspname NOT in ('information_schema'))
 ORDER BY CASE WHEN (nspname NOT LIKE 'pg\_%' AND nspname NOT in ('information_schema')) THEN 0 ELSE 1 END, nspname, relname
2006-01-19 17:42:43 QUERY  : Void query (localhost:5433): ALTER TABLE linia_factura ADD COLUMN unitats numeric(5, 2) NOT NULL DEFAULT 1;
ALTER TABLE linia_factura ADD COLUMN preu dm_moneda NOT NULL;
ALTER TABLE linia_factura ADD CONSTRAINT linia_factura_pkey PRIMARY KEY (factura_id, linia);

2006-01-19 17:42:43 QUERY  : NOTICE:  ALTER TABLE / ADD PRIMARY KEY will create implicit index "linia_factura_pkey" for table "linia_factura"

2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT rel.oid, relname, spcname, pg_get_userbyid(relowner) AS relowner, relacl, relhasoids, relhassubclass, reltuples, description, conname, conkey
  FROM pg_class rel
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=rel.reltablespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rel.oid AND des.objsubid=0
  LEFT OUTER JOIN pg_constraint c ON c.conrelid=rel.oid AND c.contype='p'
 WHERE relkind IN ('r','s','t') AND relnamespace = 2200::oid

   AND rel.oid=33729::oid ORDER BY relname
2006-01-19 17:42:44 STATUS : Recuperant detalls de Taula...
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT att.*, def.*, CASE WHEN attndims > 0 THEN 1 ELSE 0 END AS isarray, CASE WHEN ty.typname = 'bpchar' THEN 'char' WHEN ty.typname = '_bpchar' THEN '_char' ELSE ty.typname END AS typname, tn.nspname as typnspname, et.typname as elemtypname,
  cl.relname, na.nspname, att.attstattarget, description, cs.relname AS sername, ns.nspname AS serschema,
  (SELECT count(1) FROM pg_type t2 WHERE t2.typname=ty.typname) > 1 AS isdup
  FROM pg_attribute att
  JOIN pg_type ty ON ty.oid=atttypid
  JOIN pg_namespace tn ON tn.oid=ty.typnamespace
  JOIN pg_class cl ON cl.oid=attrelid
  JOIN pg_namespace na ON na.oid=cl.relnamespace
  LEFT OUTER JOIN pg_type et ON et.oid=ty.typelem
  LEFT OUTER JOIN pg_attrdef def ON adrelid=attrelid AND adnum=attnum
  LEFT OUTER JOIN pg_description des ON des.objoid=attrelid AND des.objsubid=attnum
  LEFT OUTER JOIN (pg_depend JOIN pg_class cs ON objid=cs.oid AND cs.relkind='S') ON refobjid=attrelid AND refobjsubid=attnum
  LEFT OUTER JOIN pg_namespace ns ON ns.o
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT ct.oid, conname, condeferrable, condeferred, confupdtype, confdeltype, confmatchtype, conkey, confkey, confrelid, nl.nspname as fknsp, cl.relname as fktab, nr.nspname as refnsp, cr.relname as reftab, description
  FROM pg_constraint ct
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=cl.relnamespace
  JOIN pg_class cr ON cr.oid=confrelid
  JOIN pg_namespace nr ON nr.oid=cr.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=ct.oid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT c.oid, conname, condeferrable, condeferred, relname, nspname, description,
       pg_get_expr(conbin, conrelid, true) as consrc
  FROM pg_constraint c
  JOIN pg_class cl ON cl.oid=conrelid
  JOIN pg_namespace nl ON nl.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=c.oid
 WHERE contype = 'c' AND conrelid =  33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT DISTINCT ON(cls.relname) cls.oid, cls.relname as idxname, indrelid, indkey, indisclustered, indisunique, indisprimary, n.nspname,
       indnatts, spcname, tab.relname as tabname, indclass, CASE contype WHEN 'p' THEN desp.description ELSE des.description END AS description,
       pg_get_expr(indpred, indrelid, true) as indconstraint, contype, condeferrable, condeferred, amname
  FROM pg_index idx
  JOIN pg_class cls ON cls.oid=indexrelid
  JOIN pg_class tab ON tab.oid=indrelid
  LEFT OUTER JOIN pg_tablespace ta on ta.oid=cls.reltablespace
  JOIN pg_namespace n ON n.oid=tab.relnamespace
  JOIN pg_am am ON am.oid=cls.relam
  LEFT JOIN pg_depend dep ON (dep.classid = cls.tableoid AND dep.objid = cls.oid AND dep.refobjsubid = '0')
  LEFT OUTER JOIN pg_constraint con ON (con.tableoid = dep.refclassid AND con.oid = dep.refobjid)
  LEFT OUTER JOIN pg_description des ON des.objoid=con.oid
  LEFT OUTER JOIN pg_description desp ON (desp.objoid=con.oid AND desp.objsubid = 0)
 WHERE i
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT rw.oid, rw.ev_class, rulename, relname, nspname, description, is_instead, ev_type, ev_action, ev_qual,
       pg_get_ruledef(rw.oid, true) AS definition
  FROM pg_rewrite rw
  JOIN pg_class cl ON cl.oid=rw.ev_class
  JOIN pg_namespace nsp ON nsp.oid=cl.relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=rw.oid
 WHERE ev_class = 33729
 ORDER BY rulename
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT t.oid, t.*, relname, nspname, des.description
  FROM pg_trigger t
  JOIN pg_class cl ON cl.oid=tgrelid
  JOIN pg_namespace na ON na.oid=relnamespace
  LEFT OUTER JOIN pg_description des ON des.objoid=t.oid
 WHERE NOT tgisconstraint 
 AND tgrelid = 33729::oid
 ORDER BY tgname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT attname
  FROM pg_attribute
 WHERE attrelid=33729::oid AND attnum IN (1)
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT attname
  FROM pg_attribute
 WHERE attrelid=33729::oid AND attnum IN (6)
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT count(*) AS rows FROM linia_factura
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT c.relname , nspname
  FROM pg_inherits i
  JOIN pg_class c ON c.oid = i.inhparent
  JOIN pg_namespace n ON n.oid=c.relnamespace
 WHERE i.inhrelid = 33729::oid
 ORDER BY inhseqno
2006-01-19 17:42:44 STATUS : Recuperant detalls de Taula... (0,15 segons)
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT indkey FROM pg_index
 WHERE indrelid=33729::oid AND indisprimary
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT conkey
  FROM pg_constraint ct
  JOIN pg_class cl on cl.oid=confrelid
 WHERE contype='f' AND conrelid = 33729::oid
 ORDER BY conname
2006-01-19 17:42:44 QUERY  : Scalar query (localhost:5433): SELECT pg_get_indexdef(33999::oid, 1, true)
2006-01-19 17:42:44 QUERY  : Query result: factura_id
2006-01-19 17:42:44 QUERY  : Scalar query (localhost:5433): SELECT pg_get_indexdef(33999::oid, 2, true)
2006-01-19 17:42:44 QUERY  : Query result: linia
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT opcname FROM pg_opclass WHERE oid=1980
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT opcname FROM pg_opclass WHERE oid=1980
2006-01-19 17:42:44 QUERY  : Set query (localhost:5433): SELECT a1.attname as conattname, a2.attname as confattname
  FROM pg_attribute a1, pg_attribute a2
 WHERE a1.attrelid=33729::oid AND a1.attnum=1
   AND a2.attrelid=33714::oid AND a2.attnum=1
2006-01-19 17:47:04 QUERY  : Set query (localhost:5433): SELECT oid, pg_encoding_to_char(encoding) AS encoding, datlastsysoid
  FROM pg_database WHERE oid = 33615
2006-01-19 17:47:04 QUERY  : Thread Query SELECT oid, * FROM linia_factura ORDER BY factura_id, linia ASC
2006-01-19 17:47:04 QUERY  : row number -1 is out of range 0..-1

2006-01-19 17:47:04 QUERY  : row number -1 is out of range 0..-1

2006-01-19 17:47:04 QUERY  : Set query (localhost:5433): SELECT n.nspname AS nspname, relname, t.typname, nt.nspname AS typnspname, attname, COALESCE(b.oid, t.oid) AS basetype, atthasdef, adsrc,
       CASE WHEN t.typbasetype::oid=0 THEN att.atttypmod else t.typtypmod END AS typmod,
       CASE WHEN t.typbasetype::oid=0 THEN att.attlen else t.typlen END AS typlen
  FROM pg_attribute att
  JOIN pg_type t ON t.oid=att.atttypid
  JOIN pg_namespace nt ON nt.oid=t.typnamespace
  JOIN pg_class c ON c.oid=attrelid
  JOIN pg_namespace n ON n.oid=relnamespace
  LEFT OUTER JOIN pg_type b ON b.oid=t.typbasetype
  LEFT OUTER JOIN pg_attrdef def ON adrelid=attrelid AND adnum=attnum
 WHERE attnum > 0 AND NOT attisdropped AND attrelid=33729::oid
 ORDER BY attnum
